version: '3'

networks:
  microservices:
    driver: bridge

services:
  nginx:
    container_name: nginx
    networks: 
    - microservices
    build: nginx
    image: nginx
    ports: 
      - "8080:80"
    restart: on-failure

  user:
    container_name: user
    networks: 
    - microservices
    build: backend/user
    image: user
    expose :
    - "5433"
    restart: on-failure

  game:
    container_name: game
    networks: 
    - microservices
    build: backend/game
    image: game
    expose :
    - "5432"
    restart: on-failure

  chat:
    container_name: chat
    networks: 
    - microservices
    build: backend/chat
    image: chat
    expose :
    - "5434"
    restart: on-failure
